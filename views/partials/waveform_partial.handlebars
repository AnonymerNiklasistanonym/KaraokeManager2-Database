{{!--
Description:

Waveform partial
-------------------
Arguments:
- waveformContainer: string (id of container)
- waveformFilePath: string (id of container)
- waveformPlayPause: boolean=true (show play/pause button)
- waveformPlayOnStart: boolean=true (play on start)

--}}
<div class="container">
    <div class="row">

        <div class="col s6 m5 l4">
            <div class="card">
                <div class="card-image ">
                    <img class="materialboxed" src="{{musicFileCoverPath}}">
                    <span class="card-title">{{musicTitle}}</span>
                </div>
                <div class="card-action ">
                    <a class="waves-effect waves-light" href="{{musicUrl}}">Add to Playlist</a>
                </div>
            </div>
        </div>

        <div class="col s12 m7 l8">
            <div class="card ">
                <div class="card-content">
                    <p>{{this.musicDescription}}</p>
                    <br>
                    {{#each musicChips}}
                    <a href="{{this.chipUrl}}">
                        <div class="chip">
                            {{#if this.pictureTag}}
                            <img src="{{this.picturePath}}">
                            {{/if}}
                            {{this.title}}
                        </div>
                    </a>
                    {{/each}}
                </div>
            </div>
        </div>


        <div class="col s12 m12">
            <div class="card">
                <div class="card-content">

                    <div id="waveformContainer"></div>

                    <form action="#">
                        <input type="range" id="musicRange" min="0" max="100" />
                        <input type="hidden" id="songFile" value="{{musicFilePath}}">
                    </form>

                    <div class="center-align">
                        <div class="chip" id="timeStamp">
                            loading
                        </div>
                    </div>

                    <br>

                    <div class="center-align">
                        <a class="btn-floating btn-large waves-effect waves-light blue" id="fast-rewind-button">
                            <i class="material-icons">fast_rewind</i>
                        </a>
                        <a class="btn-floating btn-large waves-effect waves-light blue" id="play-pause-button">
                            <i id="play-pause-icon" class="material-icons">play_arrow</i>
                        </a>
                        <a class="btn-floating btn-large waves-effect waves-light blue" id="fast-forward-button">
                            <i class="material-icons">fast_forward</i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<br>
<br>

<script src="/wavesurfer/wavesurfer.min.js"></script>
<script src="/wavesurfer/plugin/wavesurfer.cursor.min.js"></script>
<script src="/js/wavesurferAudioHandler.js"></script>

{{!--
Real source:
<script src="./../../node_modules/wavesurfer.js/dist/wavesurfer.js"></script>

WaveSurfer.create(options) = wavesurfer
- options: http://wavesurfer-js.org/docs/options.html
- wavesurfer methods: http://wavesurfer-js.org/docs/methods.html
- wavesurfer events: http://wavesurfer-js.org/docs/events.html

--}}
